<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Loading...</title><script src="https://cdn.tailwindcss.com"></script><style>/* Optional custom styles if needed, but Tailwind should cover most. */</style></head><body class="bg-gray-100 font-sans antialiased flex items-center justify-center min-h-screen p-4"><div class="bg-white shadow-xl rounded-lg p-6 md:p-8 max-w-2xl w-full text-center"><h1 id="main-h1" class="text-3xl md:text-4xl font-extrabold text-gray-800 mb-6">Loading Common Stock Shares Outstanding...</h1><div class="mb-8"><p class="text-xl text-gray-700 font-semibold mb-2">Company: <span id="share-entity-name" class="text-blue-600">Loading...</span></p></div><div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8"><div class="bg-blue-50 p-6 rounded-lg shadow-md"><h2 class="text-2xl font-bold text-blue-700 mb-3">Maximum Shares Outstanding</h2><p class="text-4xl font-extrabold text-blue-800" id="share-max-value">...</p><p class="text-lg text-gray-600 mt-2">Fiscal Year: <span id="share-max-fy" class="font-medium">...</span></p></div><div class="bg-green-50 p-6 rounded-lg shadow-md"><h2 class="text-2xl font-bold text-green-700 mb-3">Minimum Shares Outstanding</h2><p class="text-4xl font-extrabold text-green-800" id="share-min-value">...</p><p class="text-lg text-gray-600 mt-2">Fiscal Year: <span id="share-min-fy" class="font-medium">...</span></p></div></div><p class="text-sm text-gray-500 mt-4">Data is filtered for fiscal years greater than 2020.</p><p class="text-gray-600 mt-4"><a href="uid.txt" target="_blank" class="text-blue-500 hover:underline">View UID attachment</a></p></div><script>async function fetchData(cik) { const baseUrl = `https://data.sec.gov/api/xbrl/companyconcept/CIK${cik}/dei/EntityCommonStockSharesOutstanding.json`; let urlToFetch = baseUrl; let headers = { 'User-Agent': 'AutoZoneApp/1.0 (contact@autozone.com)' }; const isDynamicCik = cik !== '0000866787'; if (isDynamicCik) { urlToFetch = `https://api.allorigins.win/get?url=${encodeURIComponent(baseUrl)}`; headers = {}; } try { const response = await fetch(urlToFetch, { headers: headers }); if (!response.ok) { throw new Error(`HTTP error! status: ${response.status}`); } let data; if (isDynamicCik) { const proxyData = await response.json(); if (proxyData.contents) { data = JSON.parse(proxyData.contents); } else { throw new Error('Proxy response did not contain expected content.'); } } else { data = await response.json(); } const entityName = data.entityName; const shares = data.units.shares; const filteredShares = shares.filter(item => { const fy = parseInt(item.fy); return fy > 2020 && typeof item.val === 'number'; }); if (filteredShares.length === 0) { console.warn("No data found for the specified criteria (FY > 2020 with numeric value)."); return null; } let maxShare = { val: -Infinity, fy: '' }; let minShare = { val: Infinity, fy: '' }; for (const item of filteredShares) { if (item.val > maxShare.val) { maxShare = { val: item.val, fy: item.fy }; } if (item.val < minShare.val) { minShare = { val: item.val, fy: item.fy }; } } return { entityName, max: maxShare, min: minShare }; } catch (error) { console.error('Error fetching or processing data:', error); return null; } } function updateDOM(data) { const entityNameElem = document.getElementById('share-entity-name'); const maxValueElem = document.getElementById('share-max-value'); const maxFyElem = document.getElementById('share-max-fy'); const minValueElem = document.getElementById('share-min-value'); const minFyElem = document.getElementById('share-min-fy'); const mainH1 = document.getElementById('main-h1'); if (!data) { entityNameElem.textContent = 'Data Not Available'; maxValueElem.textContent = 'N/A'; maxFyElem.textContent = 'N/A'; minValueElem.textContent = 'N/A'; minFyElem.textContent = 'N/A'; document.title = 'Stock Shares Outstanding (Error)'; mainH1.textContent = 'Stock Shares Outstanding Data'; return; } entityNameElem.textContent = data.entityName; maxValueElem.textContent = data.max.val.toLocaleString(); maxFyElem.textContent = data.max.fy; minValueElem.textContent = data.min.val.toLocaleString(); minFyElem.textContent = data.min.fy; document.title = `${data.entityName} Stock Shares Outstanding`; mainH1.textContent = `${data.entityName} Common Stock Shares Outstanding`; } document.addEventListener('DOMContentLoaded', async () => { const urlParams = new URLSearchParams(window.location.search); const cik = urlParams.get('CIK') || '0000866787'; const data = await fetchData(cik); updateDOM(data); });</script></body></html>